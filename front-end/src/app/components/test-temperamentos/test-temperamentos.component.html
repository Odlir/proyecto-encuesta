<app-header-encuesta encuesta="ENCUESTA: PREFERENCIA DE TEMPERAMENTO - ADOLESCENTES" icono="tv" [alumno]="alumno" [id]="form.encuesta_id"
    [sucursal]="sucursal">
</app-header-encuesta>
<br>
<p>Esta encuesta se utiliza para describir sus preferencias con relaci칩n a su personalidad. 
    <br> Los resultados lo ayudar치n a conocerse mejor, lo cual puede favorecer su interacci칩n con los dem치s.</p>
<br>

<!-- <div class="row bg-test py-3 my-2">
	<div class="col-4">
		<p>Avance de la Encuesta</p>
	</div>
	<div class="col-8 bg-test">
        <div class="progress">
            <div class="progress-bar progress-bar-striped" role="progressbar" style="width: 10%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <p class="w-100">0% | Has respondido 0 preguntas de 78</p>
    </div>
</div> -->

<form [formGroup]="formGroup" (ngSubmit)="guardar()" *ngIf="show;else two">
    <div class="row">
        <div class="mb-2 col-4 border bg-test height" *ngFor="let item of preguntas; let i = index;">
            <div class="px-1 mt-3">
                <p class="font-weight-bold text-uppercase text-danger">{{ +i+1 }}. {{ item.nombre }}</p>
                <div class="row py-3">
                    <div class="col-12 align-items-center mt-3" *ngFor="let item2 of item.respuestas; let i2=index;">
                        <label>
                            <input type="radio" [name]="item.id" [value]="item2.id" [formControlName]="item.id">
                            {{ item2.nombre }}
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-12 text-right">
            <button type="submit" [disabled]="disabled" class="btn btn-success">ENVIAR LA ENCUESTA</button>
        </div>
    </div>
</form>

<ng-template #two>
    <div class="alert alert-success" role="alert" *ngIf="rango === false;else third">
        <h4 class="alert-heading">BIEN HECHO</h4>
        <br>
        <p>El test fue completado correctamente.</p>
    </div>
</ng-template>

<ng-template #third>
    <div class="alert alert-danger" role="alert">
        <h4 class="alert-heading">ENCUESTA FUERA DE RANGO</h4>
        <br>
        <p>Gracias por participar.</p>
    </div>
</ng-template>